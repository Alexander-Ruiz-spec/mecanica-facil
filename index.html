<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="manifest" href="manifest.json">
<script src="service-worker.js"></script>

    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#000000" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-capable" content="yes" />

    <title>Mecanica Facil</title>

  <style>
    /* GENERAL */
* {
    box-sizing: border-box;
}

body {
    background-color: black;
    color: white;
    font-family: Constantia, serif;
    margin: 0;
    padding: 0 10px;
    overflow-x: hidden;
}

/* CABECERA */
.cabecera {
    position: relative;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 20px;
}

#logo {
    position: absolute;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    height: 75px;
    width: auto;
}

@media (max-width: 550px) {
    #logo {
        display: none;
    }
}

#titulo {
    text-align: center;
    font-size: 3rem;
    color: white;
    margin: 0;
}

/* BOTONES PRINCIPALES */
.p-b {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: auto;
    margin-top: 15%;
}

.botones {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 40px;
    margin-top: 20px;
}

.btn-contenedor {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

.btn-contenedor img {
    width: 130px;
    height: 60px;
    object-fit: contain;
}

.btns {
    padding: 10px 20px;
    background-color: black;
    color: white;
    border: 1px solid white;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    transition: background-color 0.3s, color 0.3s;
}

.btns:hover {
    background-color: white;
    color: black;
}

/* COCHE F1 */
#coche {
    position: fixed;
    bottom: 50px;
    left: -200px;
    width: 200px;
    transition: transform 1.5s ease-in-out;
    z-index: 999;
}

#coche img {
    width: 100%;
}

@keyframes llevarPagina {
    0% {
        transform: translateX(0);
    }

    100% {
        transform: translateX(-100vw);
    }
}

.salida {
    animation: llevarPagina 1.5s ease-in-out forwards;
}

/* ANUNCIO CARRUSEL */
.anuncio-carrusel {
    position: absolute;
    top: 250px;
    left: 1%;
    width: 130px;
    height: 300px;
    overflow: hidden;
    background-color: #222;
    color: white;
    border: 1px solid white;
    border-radius: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px;
    text-align: center;
    z-index: 10;
    font-size: 0.9rem;
}

.anuncio-slide {
    display: none;
    width: 100%;
    height: 100%;
    transition: opacity 0.5s ease-in-out;
}

.anuncio-slide.active {
    display: block;
}

/* RESPONSIVE: OCULTAR ELEMENTOS EN PANTALLAS PEQUE√ëAS */
@media (max-width: 1500px) {
    .anuncio-carrusel,
    #tsuru,
    #peyot,
    #spark,
    #text-container {
        display: none;
    }
}

/* VEH√çCULOS MOVIBLES */
#tsuru,
#peyot {
    position: absolute;
    top: 200px;
    width: 150px;
    cursor: grab;
    transition: all 0.1s ease-in-out;
    z-index: 20;
}

#tsuru {
    left: 1500px;
}

#peyot {
    left: 400px;
    width: 100px;
}

#tsuru:active,
#peyot:active {
    cursor: grabbing;
}

#tsuru img,
#peyot img {
    width: 100%;
    height: auto;
}

/* CONTENEDOR DE IMAGEN Y TEXTO */
.imagen-texto-contenedor {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    margin-top: 40px;
    gap: 20px;
    width: 90%;
    max-width: 1000px;
}

/* IMAGEN MOVIBLE */
.imagen-movible {
    width: 200px;
    cursor: grab;
    position: relative;
}

.imagen-movible:active {
    cursor: grabbing;
}

.imagen-movible img {
    width: 100%;
    height: auto;
    border: 2px solid white;
    border-radius: 10px;
}

/* TEXTO */
.texto-lateral {
    max-width: 400px;
    color: white;
    font-size: 1.1rem;
}

/* RESPONSIVE PARA TEL√âFONOS */
@media screen and (max-width: 768px) {
    .text-container {
        flex-direction: column;
        align-items: center;
        gap: 15px;
    }

    .left-text,
    .right-text {
        width: 100%;
    }
    }
  </style>
</head>

<body>
    <div class="cabecera">
        <img id="logo" src="img/logo.png" alt="Logo">
        <h1 id="titulo">Mecanica Facil</h1>
    </div>

    

    <div class="anuncio-carrusel">
        <div class="anuncio-slide active">
            <p>üîß ¬°Revisa tus frenos gratis!</p>
        </div>
        <div class="anuncio-slide">
            <p>üõ†Ô∏è 10% de descuento en bater√≠as</p>
        </div>
        <div class="anuncio-slide">
            <p>üöó Cambio de aceite express</p>
        </div>
    </div>

    <hr style="width: 100%;">

    <div class="p-b">
        <div class="botones">
            <div class="btn-contenedor">
                <img src="img/bateria-i.png" alt="Bater√≠as">
                <a href="baterias.html" class="btn-link"><button class="btns">Bater√≠as</button></a>
            </div>
            <div class="btn-contenedor">
                <img src="img/niveles.png" alt="Niveles">
                <a href="niveles.html" class="btn-link"><button class="btns">Niveles</button></a>
            </div>
            <div class="btn-contenedor">
                <img src="img/llantas.png" alt="Llantas">
                <a href="llantas.html" class="btn-link"><button class="btns">Llantas</button></a>
            </div>
            <div class="btn-contenedor">
                <img src="img/buj.png" alt="Servicios">
                <a href="servicios.html" class="btn-link"><button class="btns">Servicios</button></a>
            </div>
            <div class="btn-contenedor">
                <img src="img/frenos.png" alt="Frenos">
                <a href="Frenos.html" class="btn-link"><button class="btns">Frenos</button></a>
            </div>
        </div>
    </div>
    <div class="imagen-texto-contenedor">
        <div class="imagen-movible" id="imagen-movible">
            <img src="img/logo.png" alt="Imagen Movible">
        </div>
        <div class="texto-lateral">
            <p>Mec√°nica F√°cil es una p√°gina web educativa y pr√°ctica dise√±ada para ayudar a personas sin conocimientos
                t√©cnicos a entender y resolver problemas comunes en sus veh√≠culos. Su objetivo principal es acercar la
                mec√°nica automotriz al usuario promedio, brindando informaci√≥n clara, visual y accesible para que
                cualquiera pueda aprender a identificar, prevenir y solucionar fallas sencillas en su auto.

                La plataforma est√° pensada especialmente para quienes desean ahorrar dinero en reparaciones b√°sicas,
                ganar autonom√≠a o simplemente entender mejor c√≥mo funciona su veh√≠culo. </p>
        </div>
    </div>



    <!-- Imagen de Tsuru -->
    <div id="tsuru">
        <img src="img/tsurrari.png" alt="tsurrari">
    </div>

    <div id="peyot">
        <img src="img/peyots.png" alt="peyots">
    </div>

    <!-- Coche F1 -->
    <div id="coche">
        <img src="img/tsurrari.png" alt="Formula 1">
    </div>

    <script>
        // Movimiento coche F1 + redirecci√≥n animada
        document.querySelectorAll(".btn-link").forEach(link => {
            link.addEventListener("click", (e) => {
                e.preventDefault();
                const coche = document.getElementById("coche");
                const body = document.body;

                coche.style.transform = "translateX(120vw)";
                setTimeout(() => {
                    body.classList.add("salida");
                    window.location.href = e.target.parentElement.href;
                }, 1500);
            });
        });

        // Carrusel autom√°tico de anuncios
        const slides = document.querySelectorAll(".anuncio-slide");
        let currentIndex = 0;
        setInterval(() => {
            slides[currentIndex].classList.remove("active");
            currentIndex = (currentIndex + 1) % slides.length;
            slides[currentIndex].classList.add("active");
        }, 4000);

        // Funci√≥n gen√©rica para mover cualquier coche
        function hacerMovible(elemento) {
            let isDragging = false;
            let offsetX = 0;
            let offsetY = 0;

            elemento.addEventListener("mousedown", function (e) {
                isDragging = true;
                offsetX = e.clientX - elemento.offsetLeft;
                offsetY = e.clientY - elemento.offsetTop;
            });

            document.addEventListener("mousemove", function (e) {
                if (isDragging) {
                    elemento.style.left = (e.clientX - offsetX) + "px";
                    elemento.style.top = (e.clientY - offsetY) + "px";
                }
            });

            document.addEventListener("mouseup", function () {
                isDragging = false;
            });
        }

        // Selecci√≥n de coches
        const tsuru = document.getElementById("tsuru");
        const peyot = document.getElementById("peyot");
        const spark = document.getElementById("spark");

        // Activar movimiento libre para todos
        hacerMovible(tsuru);
        hacerMovible(peyot);
        hacerMovible(spark);

    </script>
    <script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js').then(async (registration) => {
      console.log('SW registrado:', registration);

      // üü¢ Registrar background sync
      if ('sync' in registration) {
        try {
          await registration.sync.register('sync-datos');
          console.log('Background sync registrado');
        } catch (e) {
          console.warn('Error registrando background sync:', e);
        }
      }

      // üü¢ Registrar periodic sync
      if ('periodicSync' in registration) {
        try {
          await registration.periodicSync.register('sync-periodico', {
            minInterval: 24 * 60 * 60 * 1000 // 1 d√≠a
          });
          console.log('Periodic sync registrado');
        } catch (e) {
          console.warn('Error registrando periodic sync:', e);
        }
      }

      // üü¢ Push notification (sin backend, solo muestra el permiso)
      const permission = await Notification.requestPermission();
      if (permission === "granted") {
        console.log("Permiso de notificaciones concedido");
        const subscription = await registration.pushManager.subscribe({
          userVisibleOnly: true,
          applicationServerKey: "<TU_CLAVE_PUBLICA_VAPID>" // Esto requiere backend real
        });
        console.log("Push registrado", subscription);
      }

    }).catch(err => {
      console.error('Fallo al registrar el SW:', err);
    });
  }
</script>





</body>

</html>
